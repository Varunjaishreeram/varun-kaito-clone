!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0944c47f-8cd5-480a-b7a8-f9143927cda4",e._sentryDebugIdIdentifier="sentry-dbid-0944c47f-8cd5-480a-b7a8-f9143927cda4")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{10643:(e,t,n)=>{n.d(t,{u:()=>eF,i:()=>eN});var r=n(95532),a=n(22342),s=n(22626),i=n.n(s),l=n(31729),o=n.n(l),c=n(40371),d=n(92215),u=n(9770),p=n.n(u),x=n(53517),h=n(33670),m=n(46140),f=n(12368),g=n(40722),v=n(12548);let y={grass_touched_score:{from:"Grass Toucher",to:"Terminally Online",type:"grass_touched_score"},replies_guys_score:{from:"Too-Cool",to:"Reply-Guy",type:"replies_guys_score"},insightfulness_score:{from:"Shitposter",to:"Curator",type:"insightfulness_score"},sentiment_score:{from:"Critic",to:"Bull",type:"sentiment_score"}};var w=n(78507);function j(){let e=(0,r._)(["flex flex-col gap-2"]);return j=function(){return e},e}function b(){let e=(0,r._)(["flex items-center justify-between text-[10px] font-semibold text-white/80"]);return b=function(){return e},e}function _(){let e=(0,r._)(["h-[10px] w-0.5 bg-white/60 z-10"]);return _=function(){return e},e}let C=e=>{let{data:t}=e;return(0,a.jsxs)(k,{"data-sentry-element":"Container","data-sentry-component":"CTPercent","data-sentry-source-file":"CTPercent.tsx",children:[(0,a.jsxs)(N,{"data-sentry-element":"Flex","data-sentry-source-file":"CTPercent.tsx",children:[(0,a.jsx)("div",{children:t.from}),(0,a.jsx)("div",{children:t.to})]}),(0,a.jsxs)(P,{$bgTheme:t.type,"data-sentry-element":"Percent","data-sentry-source-file":"CTPercent.tsx",children:[(0,a.jsx)(F,{$direction:"left",style:{width:"".concat(100-t.score,"%")},"data-sentry-element":"InnerPercentX","data-sentry-source-file":"CTPercent.tsx"}),(0,a.jsx)(T,{style:{left:"".concat(100-t.score,"%")},"data-sentry-element":"Divider","data-sentry-source-file":"CTPercent.tsx"}),(0,a.jsx)(F,{$direction:"right",style:{width:"".concat(t.score,"%")},"data-sentry-element":"InnerPercentX","data-sentry-source-file":"CTPercent.tsx"})]})]})},k=w.sJ.div(j()),N=w.sJ.div(b()),P=w.sJ.div(e=>{let{$bgTheme:t}=e;return["w-[224px] h-2 text-white rounded-[12px] flex relative items-center gap-0"]}),F=w.sJ.div(e=>{let{$direction:t}=e;return["h-2 text-white","left"===t&&"bg-[#45C9AC] rounded-l-[20px]","right"===t&&"bg-[#5292FF] rounded-r-[20px]"]}),T=w.sJ.div(_());w.sJ.div(e=>{let{$bgTheme:t,$direction:n}=e;return["h-2 text-white bg-gradient-to-r","grass_touched_score"===t&&"left"===n&&"from-[#480FBB] via-[#7A41EE] via-90% to-transparent","grass_touched_score"===t&&"right"===n&&"from-transparent via-10% via-[#FF8542] to-[#CF4900]","replies_guys_score"===t&&"left"===n&&"from-[#0063BC] via-[#8DC9FF] via-90% to-transparent","replies_guys_score"===t&&"right"===n&&"from-transparent via-10% via-[#FBA4E5] to-[#FF3FCF]","insightfulness_score"===t&&"left"===n&&"from-[#935B1E] via-[#C18D53] via-90% to-transparent","insightfulness_score"===t&&"right"===n&&"from-transparent via-10% via-[#C5FF82] to-[#00AE07]","sentiment_score"===t&&"left"===n&&"from-[#00785E] via-[#4FFFD9] via-90% to-transparent","sentiment_score"===t&&"right"===n&&"from-transparent via-10% via-[#FFF265] to-[#BCAE14]"]});var D=n(59089);let S=async e=>{let t=(0,D.mI)(),n=await fetch("".concat(e,"?v=").concat(t));return await n.json()};var z=n(89463),E=n(5130),R=n(15550),U=n(91354),M=n(30838);function J(){let e=(0,r._)(["flex items-center gap-2 h-[75px] z-50"]);return J=function(){return e},e}function I(){let e=(0,r._)(["truncate text-xl text-white/80 font-semibold"]);return I=function(){return e},e}function A(){let e=(0,r._)(["truncate text-base text-white/60 font-semibold"]);return A=function(){return e},e}function B(){let e=(0,r._)(["font-semibold flex gap-1 items-end"]);return B=function(){return e},e}function L(){let e=(0,r._)(["flex items-center"]);return L=function(){return e},e}function Q(){let e=(0,r._)(["h-[17px] flex items-center gap-[1.5px] bg-[rgba(50,255,220,0.08)] rounded-[2.8px] text-white/80 text-[10px] font-medium pl-[2.8px]"]);return Q=function(){return e},e}let W=e=>{let{userProfile:t}=e,{name:n,is_kt_user:r,is_inner_circle_ct:s,twitter_id:i,smart_followers_cnt:l,twitter_handle:o}=t,c=r?{width:56,height:56,position:"absolute",top:0}:{width:68,height:68};return(0,a.jsxs)(H,{"data-sentry-element":"User","data-sentry-component":"SocialUserDetail","data-sentry-source-file":"SocialUserDetail.tsx",children:[(0,a.jsxs)("div",{style:{width:68,height:68,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[r&&(0,a.jsx)("img",{src:(0,M.toCdnURL)({src:"https://kaito-public-assets.s3.us-west-2.amazonaws.com/yapper/social_card/social_card_avator.svg",width:96}),width:69,height:69,alt:"avatar",className:"absolute z-10",style:{width:69,height:69}}),(0,a.jsx)("img",{src:(0,M.toCdnURL)({src:"https://asset.cdn.kaito.ai/twitter-user-profile-img/".concat(i,".jpg"),width:96}),width:c.width,height:c.height,alt:"avatar",className:"rounded-full",style:c})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",maxWidth:"384px",height:"75px"},children:[(0,a.jsxs)(q,{className:"gap-1","data-sentry-element":"Flex","data-sentry-source-file":"SocialUserDetail.tsx",children:[(0,a.jsx)(Y,{"data-sentry-element":"UserName","data-sentry-source-file":"SocialUserDetail.tsx",children:n}),(0,a.jsxs)(G,{"data-sentry-element":"UserHandle","data-sentry-source-file":"SocialUserDetail.tsx",children:["@",o]})]}),s?(0,a.jsxs)(X,{style:{width:"92px",height:"17px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"2.8px",fontSize:"10px",color:"#32FFDC",gap:"1.5px",paddingLeft:"4px",paddingRight:"4px",flexWrap:"nowrap"},children:[(0,a.jsx)(U.Ay,{name:"icon-authentication-uncover",size:10}),(0,a.jsx)("span",{children:"Inner Circle CT"})]}):(0,a.jsx)("div",{style:{background:"rgba(50, 255, 220, 0.08)",color:"rgba(255,255,255, 0.8)",width:"67px",height:"17px",fontSize:"10px",textAlign:"center",padding:"1.4px",borderRadius:"2.8px"},children:"Emerging CT"}),(0,a.jsxs)(O,{"data-sentry-element":"UserFollower","data-sentry-source-file":"SocialUserDetail.tsx",children:[(0,a.jsx)("span",{style:{color:"#32FFDC"},children:(0,R.Cm)(l)}),(0,a.jsx)("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"10px",paddingBottom:"3px"},children:"Smart Followers"})]})]})]})},H=w.sJ.div(J()),Y=w.sJ.div(I()),G=w.sJ.div(A()),O=w.sJ.div(B()),q=w.sJ.div(L()),X=w.sJ.div(Q());var $=n(12493);let V=e=>{let t=Number(e);if(t<3e-4)return"0.0003%";if(t<.01)return"".concat(Number(t.toPrecision(1)),"%");if(t<.03)return"".concat(Number(t.toPrecision(2)),"%");{let e=Number(t.toPrecision(2));return"".concat(e,"%")}},K=(e,t)=>e.length*t*.67,Z=e=>"https://asset.cdn.kaito.ai/social_card_one_hop_interconnections/".concat(e,".json");function ee(){let e=(0,r._)(["w-[204px] h-[99px] p-3 flex flex-col gap-3]"]);return ee=function(){return e},e}function et(){let e=(0,r._)(["w-[322px] h-[164px] p-3 flex flex-col backdrop-blur-2xl]"]);return et=function(){return e},e}function en(){let e=(0,r._)(["text-sm text-[#32FFDC] font-bold h-[17px]"]);return en=function(){return e},e}function er(){let e=(0,r._)(["text-xs text-white/80 font-bold h-[15px]"]);return er=function(){return e},e}function ea(){let e=(0,r._)(["text-[8px] text-white/80 font-medium h-[10px]"]);return ea=function(){return e},e}function es(){let e=(0,r._)(["w-[0.5px] h-[22px] bg-[#445351] -ml-[1px]"]);return es=function(){return e},e}let ei=e=>{var t,n;return(0,a.jsxs)(ec,{style:{backgroundImage:"url(".concat((0,M.toCdnURL)({src:"https://kaito-public-assets.s3.us-west-2.amazonaws.com/yapper/social_card/social_card_ict_top_sf_bg.svg",width:256}),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},"data-sentry-element":"TopPerContainer","data-sentry-component":"TopPercent","data-sentry-source-file":"TopPercent.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(ep,{"data-sentry-element":"Title","data-sentry-source-file":"TopPercent.tsx",children:e.data.title}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",style:{width:e.data.rankWidth},children:[(0,a.jsx)(ex,{"data-sentry-element":"SubTitle","data-sentry-source-file":"TopPercent.tsx",children:"Top"}),(0,a.jsx)(eu,{"data-sentry-element":"PercentText","data-sentry-source-file":"TopPercent.tsx",children:V(e.data.percent.rank_percentage)})]}),e.data.showRank&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh,{}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)(ex,{children:"Highest Rank"}),(0,a.jsxs)(eu,{children:[e.data.percent.rank<1e4?(0,R.Cm)(e.data.percent.rank):"10,000+",(0,a.jsx)("span",{className:(0,g.QP)(["invisible",(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.rankPrefix)&&"visible text-white/60 ml-1"]),style:{fontSize:"6px"},children:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.rankPrefix})]})]})]})]})]}),(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)(eo,{data:e.data.options,mode:e.data.mode,size:{width:180,height:30},"data-sentry-element":"GradientLineChart","data-sentry-source-file":"TopPercent.tsx"})})]})},el=e=>{var t,n;return(0,a.jsxs)(ed,{style:{backdropFilter:"blur(40px)",border:"0.4px solid #184840",borderRadius:"7px"},"data-sentry-element":"ECTContainer","data-sentry-component":"ECTTopPercent","data-sentry-source-file":"TopPercent.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-[8.5px]",children:[(0,a.jsx)(ep,{className:"text-base h-[19px]","data-sentry-element":"Title","data-sentry-source-file":"TopPercent.tsx",children:e.data.title}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",style:{width:e.data.rankWidth},children:[(0,a.jsx)(ex,{style:{fontSize:"12px",height:"15px"},"data-sentry-element":"SubTitle","data-sentry-source-file":"TopPercent.tsx",children:"Top"}),(0,a.jsx)(eu,{style:{fontSize:"16px",height:"19px"},"data-sentry-element":"PercentText","data-sentry-source-file":"TopPercent.tsx",children:V(e.data.percent.rank_percentage)})]}),e.data.percent.rank<1e4&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh,{}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)(ex,{children:"Rank"}),(0,a.jsxs)(eu,{children:[(0,R.Cm)(e.data.percent.rank),(0,a.jsx)("span",{className:(0,g.QP)(["invisible",(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.rankPrefix)&&"visible text-white/60 ml-1"]),style:{fontSize:"6px"},children:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.rankPrefix})]})]})]})]})]}),(0,a.jsx)("div",{className:"w-full h-[76px]",children:(0,a.jsx)(eo,{data:e.data.options,mode:e.data.mode,size:{width:298,height:76},"data-sentry-element":"GradientLineChart","data-sentry-source-file":"TopPercent.tsx"})})]})},eo=e=>{let{data:t,mode:n,size:r}=e,s=(0,h.useRef)(null),i=(0,h.useId)();return(0,h.useEffect)(()=>{var e;if(!t||0===t.length)return;let a=0,l=t.map(e=>(a+=Number(e.count),{timestamp:e.timestamp,total:a,count:Number(e.count)})),o="total"===n?l.map(e=>({timestamp:e.timestamp,value:e.total})):l.map(e=>({timestamp:e.timestamp,value:e.count})),c=(null===(e=o[0])||void 0===e?void 0:e.value)||0,d=$.T9B(o,e=>e.value)||0,u=[];for(let e=1;e<o.length;e++){let t=o[e-1],n=o[e];for(let e=0;e<5;e++){let r=e/5;u.push({timestamp:t.timestamp+r*(n.timestamp-t.timestamp),value:t.value+r*(n.value-t.value)})}}u.push(o[o.length-1]);let p=u.reduce((e,t)=>t.value>e.value?t:e),x=r.width,h=r.height,m={top:5,right:5,bottom:5,left:5},f=$.w7C().domain($.Xxv(u,e=>new Date(e.timestamp))).range([m.left,x-m.right]),g=$.m4Y().domain(["total"===n?.9*c:.9*$.jkA(u,e=>e.value),"total"===n?d:1.1*$.T9B(u,e=>e.value)]).range([h-m.bottom,m.top]),v=$.n8j().x(e=>f(new Date(e.timestamp))).y(e=>g(e.value)).curve($.lUB),y=$.Ltv(s.current);y.selectAll("*").remove(),y.append("defs").append("linearGradient").attr("id",i).attr("x1","1").attr("y1","28.3344").attr("x2","183.332").attr("y2","8.11598").attr("gradientUnits","userSpaceOnUse").call(e=>{e.append("stop").attr("offset","0%").attr("stop-color","#333BA5"),e.append("stop").attr("offset","100%").attr("stop-color","#32FFDC")}),y.append("path").datum(u).attr("d",v).attr("fill","none").attr("stroke","url(#".concat(i,")")).attr("stroke-width",2),y.append("g").append("circle").attr("cx",f(new Date(p.timestamp))).attr("cy",g(p.value)).attr("r",4).attr("fill","white").attr("fill-opacity",.4),y.append("g").append("circle").attr("cx",f(new Date(p.timestamp))).attr("cy",g(p.value)).attr("r",2).attr("fill","#32FFDC")},[t,i,n,r.height,r.width]),(0,a.jsx)("svg",{ref:s,width:r.width,height:r.height,"data-sentry-element":"svg","data-sentry-component":"GradientLineChart","data-sentry-source-file":"TopPercent.tsx"})},ec=w.sJ.div(ee()),ed=w.sJ.div(et()),eu=w.sJ.div(en()),ep=w.sJ.div(er()),ex=w.sJ.div(ea()),eh=w.sJ.div(es());function em(){let e=(0,r._)(["w-[248px] h-[206px] z-10 relative bg-[#202226] bg-cover bg-no-repeat"]);return em=function(){return e},e}function ef(){let e=(0,r._)(["text-xs text-white/80 font-bold"]);return ef=function(){return e},e}function eg(){let e=(0,r._)(["w-[460px] h-[67px] p-3 z-50 flex flex-col gap-2 bg-contain bg-no-repeat"]);return eg=function(){return e},e}function ev(){let e=(0,r._)(["w-[322px] h-[116px] p-4 z-50 flex flex-col backdrop-blur-2xl gap-3 overflow-hidden"]);return ev=function(){return e},e}function ey(){let e=(0,r._)(["flex flex-col"]);return ey=function(){return e},e}function ew(){let e=(0,r._)(["flex items-center"]);return ew=function(){return e},e}function ej(){let e=(0,r._)(["absoulte top-0 w-full px-6 h-9 flex items-center justify-between"]);return ej=function(){return e},e}function eb(){let e=(0,r._)(["absolute bottom-0 w-full px-6 h-12 flex items-center justify-between"]);return eb=function(){return e},e}function e_(){let e=(0,r._)(["w-[400px] h-[400px] absolute top-0 -right-[100px] opacity-80 z-[1]"]);return e_=function(){return e},e}let eC=(0,h.memo)(e=>{let{size:t,twitter_id:n,onRenderComplete:r,graphData:s}=e,i=(0,h.useRef)(null),[l,o]=(0,h.useState)(null);return((0,h.useEffect)(()=>{let e=async()=>{if(!(null==s?void 0:s.nodes.length))return;let e=(null==s?void 0:s.nodes.map(e=>({...e,name:e.id,_name:e.name})))||[],r={nodes:e,links:null==s?void 0:s.edges,nodeMap:(0,D.eM)(e)};await (0,D.PN)(r);let a=await (0,E.U)(r,{canvasWidth:t.width,canvasHeight:t.height,linkWeight:3,scale:.6,centerNodeName:n});a.silent=!0,o(a)};s&&("requestIdleCallback"in window?requestIdleCallback(()=>e()):setTimeout(()=>e(),500))},[s,t.height,t.width,n]),(0,h.useEffect)(()=>{if(i.current&&l){var e;(null==i?void 0:null===(e=i.current)||void 0===e?void 0:e.getEcharts()).on("finished",()=>{r&&r(!0)})}},[l,r]),l)?(0,a.jsx)(z.E,{options:l,width:t.width,height:t.height,ref:i,"data-sentry-element":"EChart","data-sentry-component":"GraphBg","data-sentry-source-file":"graph.tsx"}):null}),ek=(0,h.memo)(e=>{var t,n,r;let s=(0,h.useMemo)(()=>e.userProfile||{},[e.userProfile]),{top_mindshare_ranking:l={rank:1e4,rank_percentage:100},top_ct_smart_follower:o={rank:1e4,rank_percentage:100},ct_smart_follower:c,mindshare_ranking:d,ct_character:u,top_smart_followers:m=[],is_inner_circle_ct:f}=e.userProfile||{},v=(0,h.useMemo)(()=>f?{width:400,height:400}:{width:400,height:400,right:-40},[f]),w=(0,h.useMemo)(()=>f?Math.max(K(V(l.rank_percentage),14),K(V(o.rank_percentage),14)):0,[o,l,f]),j=(0,h.useMemo)(()=>!!f&&1e4>Math.min(o.rank,l.rank),[o,l,f]),b=(0,h.useMemo)(()=>(0,a.jsx)(eU,{className:(0,g.QP)(["gap-[10px] h-[20px]",m.length>=10&&"justify-between",!f&&"h-[52px] flex-wrap gap-[9.6px] justify-start"]),children:m.slice(0,f?15:20).map((e,t)=>{let{avatar_url:n}=e;return(0,a.jsx)("img",{src:(0,M.toCdnURL)({src:n,width:96}),width:20,height:20,style:{width:20,height:20},alt:"",className:"rounded-full"},t)})}),[m,f]);return((0,h.useEffect)(()=>{var t;e.isEtcNoData&&(null==e||null===(t=e.onRenderComplete)||void 0===t||t.call(e))},[e.isEtcNoData]),p()(s))?null:e.isEtcNoData?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{className:(0,g.QP)(["w-[680px] h-[384px] origin-top-left",e.scale&&"h-[200px]"]),src:(0,M.toCdnURL)({src:"https://kaito-public-assets.s3.us-west-2.amazonaws.com/yapper/social_card/social_card_ect_no_count.svg",width:1080}),width:"680",height:"384",alt:""}),(0,a.jsxs)("div",{className:(0,g.QP)(["absolute top-[36px] left-[36px] flex items-center gap-[8px] origin-top-left scale-[1.35]",e.scale&&"scale-[0.675] top-[28px] left-[18px]"]),children:[(0,a.jsx)("img",{className:"w-[46px] h-[46px] rounded-full",src:(0,M.toCdnURL)({src:encodeURIComponent(null!==(n=null==s?void 0:s.avatar_url)&&void 0!==n?n:"https://asset.cdn.kaito.ai/twitter-user-profile-img/".concat(s.twitter_id,".jpg")),width:96}),alt:""}),(0,a.jsx)("div",{className:"text-white font-bold font-staatliches whitespace-nowrap",style:{fontSize:"24px"},children:s.name}),(0,a.jsxs)("div",{className:"text-[rgba(255,255,255,0.8)] font-normal font-staatliches",style:{fontSize:"16px"},children:["@",s.twitter_handle]})]})]}):(0,a.jsx)("div",{className:(0,g.QP)(["relative",e.scale&&"bg-[#202226] rounded overflow-hidden"]),children:(0,a.jsxs)("div",{className:(0,g.QP)(["h-[200px]",e.scale&&"scale-50 -translate-x-1/4 -translate-y-1/4"]),children:[(0,a.jsxs)(eR,{className:"gap-2.5 absolute z-50 left-6 top-[18px]",children:[(0,a.jsx)(W,{userProfile:s}),f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eU,{className:"gap-2 z-50 relative",children:[(0,a.jsxs)(eR,{className:"gap-2",children:[(0,a.jsx)(ei,{data:{title:"CT Smart Follower",percent:o,rankWidth:w,showRank:j,mode:"count",options:c.map(e=>({timestamp:e.timestamp,count:e.followers_count})),rankPrefix:"(Today)"}}),(0,a.jsx)(ei,{data:{title:"CT Mindshare",percent:l,rankWidth:w,showRank:j,mode:"count",options:d.map(e=>({timestamp:e.timestamp,count:e.rank})),rankPrefix:"Week of (".concat(i()(null===(t=(0,x.A)(d,"rank"))||void 0===t?void 0:t.timestamp).format("D/M/YY"),")")}})]}),(0,a.jsx)(eD,{style:{backgroundImage:"url(".concat((0,M.toCdnURL)({src:"https://kaito-public-assets.s3.us-west-2.amazonaws.com/yapper/social_card/social_card_ict_ct_bg.svg",width:512}),")"),position:"absolute",left:212},children:(0,a.jsxs)("div",{className:"absolute left-0 top-0 w-[248px] h-[206px] z-20 p-3 flex flex-col ",children:[(0,a.jsx)(eS,{children:"CT Character"}),(0,a.jsx)("div",{className:"flex-1 flex flex-col justify-between mt-2",children:Object.values(y).map(e=>{var t;return{...e,score:null!==(t=null==u?void 0:u[e.type])&&void 0!==t?t:0}}).map(e=>(0,a.jsx)(C,{data:e},e.type))})]})})]}),(0,a.jsxs)(ez,{style:{backgroundImage:"url(".concat((0,M.toCdnURL)({src:"https://kaito-public-assets.s3.us-west-2.amazonaws.com/yapper/social_card/social_card_ict_sf_bg.svg",width:512}),")")},children:[(0,a.jsx)("div",{className:"text-xs text-white/80 font-bold",style:{height:"15px"},children:"Top Smart Followers"}),b]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eU,{className:"gap-3",children:(0,a.jsxs)(eR,{className:"gap-2",children:[(0,a.jsx)(el,{data:{title:"CT Smart Follower",percent:o,mode:"total",options:c.map(e=>({timestamp:e.timestamp,count:e.followers_count})),rankPrefix:"(Today)"}}),(0,a.jsxs)(eE,{style:{backdropFilter:"blur(40px)",border:"0.4px solid #184840",borderRadius:"7px"},children:[(0,a.jsx)("div",{className:"text-base text-white/80 font-bold h-[20px]",children:"Top Smart Followers"}),b]})]})})})]}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eI,{style:v,className:(0,g.QP)([e.scale&&"translate-x-[80%]"]),children:(0,a.jsx)(eC,{size:v,graphData:e.graphData,twitter_id:null!==(r=null==e?void 0:e.twitter_id)&&void 0!==r?r:null==s?void 0:s.twitter_id,onRenderComplete:e.onRenderComplete})}),(0,a.jsx)("div",{className:(0,g.QP)(["w-[435px] h-[400px] absolute top-0 right-0 z-10",!f&&"w-[557px]",e.scale&&"translate-x-[80%]"]),style:{background:f?"linear-gradient(90deg, #202226 41.42%, rgba(32, 34, 38, 0.20) 100%)":"linear-gradient(90deg, rgb(32, 34, 38, 0.6) 10%, rgba(32, 34, 38, 0) 100%)"}})]})]})})});ek.displayName="CardContent";let eN=(0,c.eU)(!1),eP=e=>{let{children:t,date:n,desc:r="",height:s=280}=e;return(0,a.jsxs)("div",{className:"bg-[#25282A] rounded-2xl flex-1 overflow-hidden px-3",style:{height:"".concat(s,"px")},"data-sentry-component":"CardContentWrapper","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)("div",{className:"mt-4 text-base text-white/80 text-center",children:r}),(0,a.jsx)("div",{className:"text-xs leading text-white/60 text-center mb-3",children:n}),t]})},eF=(0,h.memo)((0,h.forwardRef)((e,t)=>{let n=(0,h.useRef)(null),r=(0,d.useAtomValue)(e.loadableAtom||v.dc),[s,l]=(0,h.useState)(0),{twitter_id:c}=e,[u,x]=(0,d.useAtom)(eN),{data:y,error:w}=(0,f.Ay)("social-card-graph",async()=>{if(c){let e=Z(c),t=await S(e);if(0===t.nodes.length)throw Error("No data");return t}},{revalidateOnFocus:!1,revalidateIfStale:!1}),j=(0,h.useMemo)(()=>(null==r?void 0:r.data)||{},[r]),b=(0,h.useMemo)(()=>j.user||{},[j]),_=(0,h.useMemo)(()=>j.evolutionUser||{},[j]);(0,h.useEffect)(()=>{if(p()(b))return;let t=!1;if("evolution"===e.mode&&s>2?t=!0:s>0&&(t=!0),(null==r?void 0:r.state)==="hasData"&&t||w){var n;null==e||null===(n=e.onRenderComplete)||void 0===n||n.call(e)}},[r,s,e.onRenderComplete,w,e.mode,e,b]);let C=async()=>{if(n.current){let e=n.current,t=e.cloneNode(!0),r=e.querySelectorAll("canvas"),a=t.querySelectorAll("canvas");if(r.length!==a.length)throw Error("Mismatch in canvas element counts during cloning.");r.forEach((e,t)=>{let n=a[t],r=n.getContext("2d");r&&(n.width=e.width,n.height=e.height,r.drawImage(e,0,0))}),t.style.scale=1,t.style.position="absolute",t.style.top="-10000px",t.style.left="-10000px",t.style.zIndex="-1",document.body.appendChild(t);try{let e=await o()(t,{useCORS:!0,backgroundColor:null});return new Promise((t,n)=>{e.toBlob(e=>{e?t(e):n(Error("Failed to create Blob from canvas."))},"image/png")})}finally{document.body.removeChild(t)}}throw Error("Container ref is not available.")};(0,h.useImperativeHandle)(t,()=>({exportImage:C}));let k=(0,h.useMemo)(()=>{var t;if(!(null==e?void 0:e.width)||!(null==e?void 0:e.height))return{};let r=e.width/680,a=window.innerHeight-40,s=(window.innerWidth>=1920?1.8:1.5)*r,i=u?Math.min(a/468,s):r,{top:l}=(null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect())||{top:0},o=u?(window.innerHeight-468*i)/2-l:0,c=u?(e.width-680*i)/2:0,d={scale:i,translate:"".concat(c,"px ").concat(o,"px")};return e.mode&&(d.height="".concat(468,"px")),d},[null==e?void 0:e.height,e.mode,e.width,u]),N=async()=>{if(n.current){let e=n.current,t=e.cloneNode(!0),r=e.querySelectorAll("canvas"),a=t.querySelectorAll("canvas");if(r.length!==a.length)throw Error("Mismatch in canvas element counts during cloning.");r.forEach((e,t)=>{let n=a[t],r=n.getContext("2d");r&&(n.width=e.width,n.height=e.height,r.drawImage(e,0,0))}),t.style.scale=1,t.style.position="absolute",t.style.top="-10000px",t.style.left="-10000px",t.style.zIndex="-1",document.body.appendChild(t);let s=await o()(t,{useCORS:!0,backgroundColor:null}),i=document.getElementById("canvas-container");i&&(i.innerHTML="",i.appendChild(s))}},P=(0,h.useMemo)(()=>{var e;if(p()(b))return!1;let t=!1===b.is_inner_circle_ct,n=(null!==(e=b.smart_followers_cnt)&&void 0!==e?e:0)<10;return t&&n},[b]),F=(0,h.useMemo)(()=>{var e;if(p()(_))return!1;let t=!1===_.is_inner_circle_ct,n=(null!==(e=_.smart_followers_cnt)&&void 0!==e?e:0)<10;return t&&n},[_]);(0,m.A)(n,e=>{e.stopPropagation(),x(!1)});let T=(0,h.useCallback)(()=>{l(e=>e+1)},[]),D=(0,h.useMemo)(()=>!!e.mode&&("current"!==e.mode||!F),[F,e.mode]),z=(0,h.useMemo)(()=>(!!e.mode||!P)&&("current"!==e.mode||!F),[F,P,e.mode]),E=(0,h.useMemo)(()=>{let e=i()();return(0===e.day()?e.subtract(7,"day"):e.day(0)).format("D MMM YYYY")},[]),R=(0,h.useMemo)(()=>"current"===e.mode?(0,a.jsx)("div",{className:(0,g.QP)(["h-[calc(100%_-_2.25rem)]",!F&&"scale-95 origin-top-left",!z&&"flex items-center"]),children:(0,a.jsx)(ek,{twitter_id:c,userProfile:j.evolutionUser,graphData:y,onRenderComplete:T,isEtcNoData:F})}):"evolution"===e.mode?(0,a.jsxs)("div",{className:"h-[calc(100%_-_5.25rem)] flex gap-3 mx-4 items-center relative",children:[(0,a.jsx)(eP,{date:"5 Dec 2024",desc:"Before Yaps Launch",children:(0,a.jsx)(ek,{twitter_id:c,userProfile:j.user,graphData:y,isEtcNoData:P,onRenderComplete:T,scale:!0})}),(0,a.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 ",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"24",viewBox:"0 0 34 24",fill:"none",children:[(0,a.jsx)("path",{d:"M18.7005 0L33.5381 12L18.7005 24L18.6312 16H0V8H18.6312L18.7005 0Z",fill:"url(#paint0_linear_5513_3331)"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"paint0_linear_5513_3331",x1:"0",y1:"12",x2:"33.9999",y2:"11.9567",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{"stop-color":"#32FFDC","stop-opacity":"0"}),(0,a.jsx)("stop",{offset:"1","stop-color":"#32FFDC"})]})})]})}),(0,a.jsx)(eP,{date:E,desc:"Current",children:(0,a.jsx)(ek,{twitter_id:c,userProfile:j.evolutionUser,graphData:y,isEtcNoData:F,onRenderComplete:T,scale:!0})})]}):(0,a.jsx)(ek,{twitter_id:c,userProfile:j.user,graphData:y,onRenderComplete:T,isEtcNoData:P}),[E,y,F,P,T,e.mode,z,c,j.evolutionUser,j.user]);return p()(b)?null:(0,a.jsxs)(eT,{style:k,ref:n,className:(0,g.QP)(["z-50"],!z&&"bg-transparent flex items-center justify-center"),children:[D&&(0,a.jsxs)(eM,{style:{background:"linear-gradient(270deg, #28BD9F -6.53%, #202226 120.86%)"},children:[(0,a.jsx)("div",{className:"text-base font-medium flex gap-2 items-center",children:"evolution"===e.mode?"Track your evolution at Kaito Yaps":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:E}),(0,a.jsx)("span",{className:"text-xs font-medium text-white/60",children:"(updated every Sunday)"})]})}),(0,a.jsx)("div",{children:"evolution"===e.mode&&(0,a.jsx)("div",{className:"cursor-pointer",onClick:()=>{x(!u)},children:u?(0,a.jsx)(U.iu,{size:20,color:"#00000099"}):(0,a.jsx)(U.vF,{size:20,color:"#00000099"})})})]}),R,z&&(0,a.jsxs)(eJ,{style:{background:"linear-gradient(90deg, #152825 0%, #136C5D 100%)"},onClick:N,children:[(0,a.jsx)("img",{src:(0,M.toCdnURL)({src:"https://kaito-public-assets.s3.us-west-2.amazonaws.com/yapper/icon/kaito_tag.svg",width:96}),width:71,height:14,alt:""}),(0,a.jsx)("div",{className:"text-[10px] text-white/60",children:"yaps.kaito.ai"})]})]})}));eF.displayName="SocialCard";let eT=w.sJ.div(e=>{let{$isECT:t}=e;return["w-[680px] h-[448px] rounded-[20px] bg-[#202226] relative overflow-hidden  origin-top-left transition-transform duration-300 ease-in-out"]}),eD=w.sJ.div(em()),eS=w.sJ.div(ef()),ez=w.sJ.div(eg()),eE=w.sJ.div(ev()),eR=w.sJ.div(ey()),eU=w.sJ.div(ew()),eM=w.sJ.div(ej()),eJ=w.sJ.div(eb()),eI=w.sJ.div(e_())}}]);